import{s as V,y as E,n as W,z as J,A as ct,l as ut,c as ft,u as ht,g as _t,a as dt,B as mt}from"../chunks/scheduler.D1CqcpTR.js";import{S as G,i as K,e as L,c as H,A as N,k as b,d as g,m as M,f as p,r as O,B as Q,j as R,C as gt,t as I,u as st,q as it,a as D,D as pt,E as vt,s as S,b as C,v as X,w as T,p as Y,x as ot,y as $,z as q,h as wt,g as F}from"../chunks/index.DeGntEyt.js";function Z(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function B(e,t){const n={},i={},l={$$scope:1};let a=e.length;for(;a--;){const o=e[a],r=t[a];if(r){for(const s in o)s in r||(i[s]=1);for(const s in r)l[s]||(n[s]=r[s],l[s]=1);e[a]=r}else for(const s in o)l[s]=1}for(const o in i)o in n||(n[o]=void 0);return n}function x(e){return typeof e=="object"&&e!==null?e:{}}function bt(e){let t,n=[e[0]],i={};for(let l=0;l<n.length;l+=1)i=E(i,n[l]);return{c(){t=L("img"),this.h()},l(l){t=H(l,"IMG",{}),this.h()},h(){N(t,i)},m(l,a){b(l,t,a)},p(l,[a]){N(t,i=B(n,[a&1&&l[0]]))},i:W,o:W,d(l){l&&g(t)}}}function kt(e,t,n){const i=[];let l=J(t,i);return e.$$set=a=>{t=E(E({},t),ct(a)),n(0,l=J(t,i))},[l]}class yt extends G{constructor(t){super(),K(this,t,kt,bt,V,{})}}const U={single_source_shortest_paths:function(e,t,n){var i={},l={};l[t]=0;var a=new lt(function(v){return v.cost});a.push({value:t,cost:0});for(var o,r,s,c,u,d,m,f;a.size();){o=a.pop(),r=o.value,s=o.cost,c=e(r)||{};for(var _ in c)u=c[_],d=s+u,m=l[_],f=typeof l[_]>"u",(f||m>d)&&(l[_]=d,a.push({value:_,cost:d}),i[_]=r)}if(typeof l[n]>"u"){var w=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],i=t;i;)n.push(i),e[i],i=e[i];return n.reverse(),n},find_path:function(e,t,n){var i=U.single_source_shortest_paths(e,t,n);return U.extract_shortest_path_from_predecessor_list(i,n)}};function lt(e){this.content=[],this.scoreFunction=e}lt.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var i=this.content.pop();n!==t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n));return}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(this.scoreFunction(t)<this.scoreFunction(i))this.content[n]=t,this.content[e]=i,e=n;else break}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);;){var l=(e+1)*2,a=l-1,o=null;if(a<t){var r=this.content[a],s=this.scoreFunction(r);s<i&&(o=a)}if(l<t){var c=this.content[l],u=this.scoreFunction(c);u<(o===null?i:s)&&(o=l)}if(o!=null)this.content[e]=this.content[o],this.content[o]=n,e=o;else break}}};function z(e){return Math.round(e*100+Number.EPSILON)/100}function rt(e,t){return z(e/t)}function Lt(e,t){return z(e/t)}function Ht(e,t){return z(e*t)}function at(e,t,n){const i=t-(e.length-1)*n,l=e.reduce((a,{ratio:o})=>a+o,0);return Lt(i,l)}function St(e,t,n,i,l,a){const o=e.slice(t,n),r=at(o,i,a);return Math.pow(Math.abs(r-l),2)}function Ct(e,t){if(e<420)return 2;const n=rt(e,t)/.75;return Math.round(n*1.5)}function It({images:e,containerWidth:t,targetHeight:n,gutter:i=2,seekLimit:l=Ct,byRow:a=!1}={}){const o=e.map((m,f)=>({...m,index:f,ratio:rt(m.width,m.height)})),r=l(t,n),s=m=>{const f={};m=+m,f[m]=0;for(let _=m+1;_<o.length+1&&!(_-m>r);++_)f[""+_]=St(o,m,_,t,n,i);return f},c=U.find_path(s,"0",o.length),u=[],d=[];for(let m=0;m<c.length;m++)if(c[m+1]){const f=o.slice(+c[m],+c[m+1]),_=m===c.length-2,w=at(f,t,i);f.forEach((v,k)=>{v.scaledWidth=Ht(w,v.ratio),v.scaledHeight=w,v.scaledWidthPc=z(v.scaledWidth/t*100),k===f.length-1&&(v.isLastInRow=!0),v.isLastRow=_,d.push(v)}),u.push(f)}return a?u:d}function tt(e,t,n){const i=e.slice();return i[10]=t[n].index,i[11]=t[n].ratio,i[12]=t[n].scaledHeight,i[13]=t[n].scaledWidth,i[14]=t[n].isLastInRow,i[15]=t[n].isLastRow,i[16]=t[n].scaledWidthPc,i[17]=vt(t[n],["index","ratio","scaledHeight","scaledWidth","isLastInRow","isLastRow","scaledWidthPc"]),i}const jt=e=>({index:e&4,image:e&4}),et=e=>({index:e[10],image:e[17]});function Dt(e){let t,n,i;const l=[e[17]];var a=e[0];function o(r,s){let c={};for(let u=0;u<l.length;u+=1)c=E(c,l[u]);return s!==void 0&&s&4&&(c=E(c,B(l,[x(r[17])]))),{props:c}}return a&&(t=X(a,o(e))),{c(){t&&T(t.$$.fragment),n=Y()},l(r){t&&ot(t.$$.fragment,r),n=Y()},m(r,s){t&&$(t,r,s),b(r,n,s),i=!0},p(r,s){if(s&1&&a!==(a=r[0])){if(t){st();const c=t;D(c.$$.fragment,1,0,()=>{q(c,1)}),it()}a?(t=X(a,o(r,s)),T(t.$$.fragment),I(t.$$.fragment,1),$(t,n.parentNode,n)):t=null}else if(a){const c=s&4?B(l,[x(r[17])]):{};t.$set(c)}},i(r){i||(t&&I(t.$$.fragment,r),i=!0)},o(r){t&&D(t.$$.fragment,r),i=!1},d(r){r&&g(n),t&&q(t,r)}}}function nt(e){let t,n,i,l;const a=e[8].default,o=ft(a,e,e[7],et),r=o||Dt(e);return{c(){t=L("div"),r&&r.c(),n=S(),this.h()},l(s){t=H(s,"DIV",{class:!0,style:!0});var c=M(t);r&&r.l(c),n=C(c),c.forEach(g),this.h()},h(){p(t,"class","image svelte-6b2t9q"),p(t,"style",i=e[3]({scaledHeight:e[12],scaledWidth:e[13],isLastInRow:e[14],isLastRow:e[15]}))},m(s,c){b(s,t,c),r&&r.m(t,null),R(t,n),l=!0},p(s,c){o?o.p&&(!l||c&132)&&ht(o,a,s,s[7],l?dt(a,s[7],c,jt):_t(s[7]),et):r&&r.p&&(!l||c&5)&&r.p(s,l?c:-1),(!l||c&4&&i!==(i=s[3]({scaledHeight:s[12],scaledWidth:s[13],isLastInRow:s[14],isLastRow:s[15]})))&&p(t,"style",i)},i(s){l||(I(r,s),l=!0)},o(s){D(r,s),l=!1},d(s){s&&g(t),r&&r.d(s)}}}function Pt(e){let t,n,i,l,a=Z(e[2]),o=[];for(let s=0;s<a.length;s+=1)o[s]=nt(tt(e,a,s));const r=s=>D(o[s],1,1,()=>{o[s]=null});return{c(){t=L("div"),n=L("div");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=H(s,"DIV",{class:!0});var c=M(t);n=H(c,"DIV",{class:!0,style:!0});var u=M(n);for(let d=0;d<o.length;d+=1)o[d].l(u);u.forEach(g),c.forEach(g),this.h()},h(){p(n,"class","container svelte-6b2t9q"),O(n,"width",e[1]+"px"),Q(n,"hidden",!e[1]),p(t,"class","masonry svelte-6b2t9q"),ut(()=>e[9].call(t))},m(s,c){b(s,t,c),R(t,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(n,null);i=gt(t,e[9].bind(t)),l=!0},p(s,[c]){if(c&141){a=Z(s[2]);let u;for(u=0;u<a.length;u+=1){const d=tt(s,a,u);o[u]?(o[u].p(d,c),I(o[u],1)):(o[u]=nt(d),o[u].c(),I(o[u],1),o[u].m(n,null))}for(st(),u=a.length;u<o.length;u+=1)r(u);it()}(!l||c&2)&&O(n,"width",s[1]+"px"),(!l||c&2)&&Q(n,"hidden",!s[1])},i(s){if(!l){for(let c=0;c<a.length;c+=1)I(o[c]);l=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)D(o[c]);l=!1},d(s){s&&g(t),pt(o,s),i()}}}function Rt(e,t,n){let{$$slots:i={},$$scope:l}=t,{images:a=[]}=t,{rowHeight:o=220}=t,{gutter:r=8}=t,{imageComponent:s=yt}=t,c=[],u=0;function d({scaledWidth:f,scaledHeight:_,isLastInRow:w,isLastRow:v}){let k=r+"px",P=`0 0 ${f}px`,j=v?"0":k;return w&&(k="0",P=`1 1 ${f-4}px`),`height: ${_}px; flex: ${P}; margin-right: ${k}; margin-bottom: ${j};`}function m(){u=this.clientWidth,n(1,u)}return e.$$set=f=>{"images"in f&&n(4,a=f.images),"rowHeight"in f&&n(5,o=f.rowHeight),"gutter"in f&&n(6,r=f.gutter),"imageComponent"in f&&n(0,s=f.imageComponent),"$$scope"in f&&n(7,l=f.$$scope)},e.$$.update=()=>{e.$$.dirty&114&&n(2,c=It({images:a,containerWidth:u||1280,targetHeight:o,gutter:r}))},[s,u,c,d,a,o,r,l,i,m]}class Et extends G{constructor(t){super(),K(this,t,Rt,Pt,V,{images:4,rowHeight:5,gutter:6,imageComponent:0})}}function Mt(e){let t,n,i,l,a,o="<span>menu</span>",r,s,c='<ul class="menu"><li class="menu__item"><a class="menu__link" href="/">Home</a></li> <li class="menu__item"><span class="menu__link menu__parent">Work</span> <ul class="submenu"><li class="menu__item"><a class="menu__link" href="/work/photography">Alviso Salt Ponds</a></li></ul></li> <li class="menu__item"><a class="menu__link" href="/about">About</a></li> <li class="menu__item"><a class="menu__link" href="/contact">Contact</a></li></ul>',u,d,m='<h1 class="center">Alviso Salt Ponds</h1>',f,_,w,v,k,P,j;return w=new Et({props:{images:e[0],rowHeight:600}}),{c(){t=L("link"),n=S(),i=L("input"),l=S(),a=L("label"),a.innerHTML=o,r=S(),s=L("nav"),s.innerHTML=c,u=S(),d=L("main"),d.innerHTML=m,f=S(),_=L("div"),T(w.$$.fragment),v=S(),k=L("iframe"),this.h()},l(h){const y=wt("svelte-1hjudnz",document.head);t=H(y,"LINK",{rel:!0,href:!0}),y.forEach(g),n=C(h),i=H(h,"INPUT",{type:!0,id:!0,class:!0,title:!0}),l=C(h),a=H(h,"LABEL",{for:!0,"data-svelte-h":!0}),F(a)!=="svelte-1bajy75"&&(a.innerHTML=o),r=C(h),s=H(h,"NAV",{id:!0,class:!0,"data-svelte-h":!0}),F(s)!=="svelte-9d8csz"&&(s.innerHTML=c),u=C(h),d=H(h,"MAIN",{class:!0,"data-svelte-h":!0}),F(d)!=="svelte-i9yb8x"&&(d.innerHTML=m),f=C(h),_=H(h,"DIV",{class:!0});var A=M(_);ot(w.$$.fragment,A),v=C(A),k=H(A,"IFRAME",{src:!0,frameborder:!0}),M(k).forEach(g),A.forEach(g),this.h()},h(){p(t,"rel","stylesheet"),p(t,"href","/css/gallery.css"),p(i,"type","checkbox"),p(i,"id","main-navigation-toggle"),p(i,"class","btn btn--close"),p(i,"title","Toggle main navigation"),p(a,"for","main-navigation-toggle"),p(s,"id","main-navigation"),p(s,"class","nav-main"),p(d,"class","page-container"),mt(k.src,P="https://www.youtube.com/watch?v=jfKfPfyJRdk&pp=ygUEbG9maQ%3D%3D")||p(k,"src",P),p(k,"frameborder","0"),p(_,"class","after-page")},m(h,y){R(document.head,t),b(h,n,y),b(h,i,y),b(h,l,y),b(h,a,y),b(h,r,y),b(h,s,y),b(h,u,y),b(h,d,y),b(h,f,y),b(h,_,y),$(w,_,null),R(_,v),R(_,k),j=!0},p:W,i(h){j||(I(w.$$.fragment,h),j=!0)},o(h){D(w.$$.fragment,h),j=!1},d(h){h&&(g(n),g(i),g(l),g(a),g(r),g(s),g(u),g(d),g(f),g(_)),g(t),q(w)}}}function At(e){return[[{src:"/portfolio/SaltPonds/1-_DSC9404.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/1-DSC08756.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/2-_DSC9111.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/2-DSC08748.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/3-_DSC9099.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/3-DSC08723.jpg",width:1365,height:2048},{src:"/portfolio/SaltPonds/4-DSC07982.jpg",width:2048,height:1365}]]}class Wt extends G{constructor(t){super(),K(this,t,At,Mt,V,{})}}export{Wt as component};
